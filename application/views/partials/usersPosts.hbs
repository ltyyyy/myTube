<div class="profilevideo" id="post-{{this.id}}">
    <a href="/posts/{{this.id}}">
        <img src="/posts/thumbnail/{{this.id}}" class="profileThumb" alt="Thumbnail">
        <p class="profile-videotitle">{{this.title}}</p>
    </a>
    <form onsubmit="return deletePost(event, {{this.id}})">
        <button type="submit" class="deletebtn">Delete</button>
    </form>
</div>

<script>
function deletePost(event, postId) {
    event.preventDefault();
    
    fetch("/posts/delete", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ postId: postId })
    })
    .then(response => response.json())
    .then(data => {
        alert('Post deleted successfully');
        location.reload();
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Post deleted successfully');
        location.reload();
    });

    return false;
}
</script>